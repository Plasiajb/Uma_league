{% extends "guest/base.html" %}

{% block title %}设置房号 - {{ event.name }}{% endblock %}

{% block content %}
<h2 class="mb-3">设置房号</h2>
<h5 class="text-muted">{{ event.name }} - 第 {{ round_no }} 轮 {{ group.name }} 组</h5>

<div class="card mt-4">
  <div class="card-body">
    <p class="card-text">
      <small class="text-muted">房主为：<b>{{ host_player.name }}</b>。只有房主可以提交/修改房号。</small>
    </p>

    <form method="post">
      {% csrf_token %}
      <div class="mb-3">
        <label for="room_code" class="form-label">房号（最多50字符）：</label>
        <input id="room_code" name="room_code" type="text" class="form-control" value="{{ heat.room_code }}">
      </div>

      <div class="mt-4">
        <button type="submit" class="btn btn-primary" {% if not is_host %}disabled title="你不是本组房主"{% endif %}>
          <i class="bi bi-save me-2"></i>保存
        </button>
        <a href="{% url 'event_detail' event.id %}" class="btn btn-secondary">返回赛事页</a>
      </div>
    </form>
  </div>
</div>
{% endblock %}