{% extends "guest/base.html" %}

{% block title %}选手列表 - Uma League{% endblock %}

{% block content %}
<h2 class="mb-4">选手列表</h2>

{% if rows %}
<div class="table-responsive">
    <table class="table table-striped table-hover">
      <thead>
        <tr>
          <th>选手</th>
          <th>总奖金</th>
          <th>参赛赛事</th>
          <th style="min-width: 200px;">荣誉</th>
        </tr>
      </thead>
      <tbody>
        {% for r in rows %}
        <tr>
          <td><a href="{% url 'player_profile' r.id %}">{{ r.name }}</a></td>
          <td>
            {% if r.total == "隐藏" %}
              <span class="text-muted fst-italic">隐藏</span>
            {% else %}
              {{ r.total|floatformat:2 }}
            {% endif %}
          </td>
          <td>
            {% if r.events == "隐藏" %}
              <span class="text-muted fst-italic">隐藏</span>
            {% else %}
              {{ r.events }}
            {% endif %}
          </td>
          <td>
            {% if r.honors.honor_umaleague_season_champ %}<span class="badge bg-success">赛季冠军</span>{% endif %}
            {% if r.honors.honor_umaleague_stage_champ %}<span class="badge bg-primary">赛段冠军</span>{% endif %}
            {% if r.honors.honor_loh96_hero %}<span class="badge bg-warning text-dark">LOH96杰</span>{% endif %}
            {% if r.honors.honor_aupl_champion %}<span class="badge bg-info text-dark">AUPL冠军</span>{% endif %}
            {% if r.honors.honor_nxns_champion %}<span class="badge bg-danger">NXNS冠军</span>{% endif %}
          </td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
</div>
{% else %}
<p class="text-muted">（暂无选手）</p>
{% endif %}
{% endblock %}