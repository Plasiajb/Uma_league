{% extends "guest/base.html" %}
{% block content %}
<h2>选手列表</h2>

{% if rows %}
<table>
  <thead>
    <tr><th>选手</th><th>总奖金</th><th>参赛赛事</th><th>荣誉</th></tr>
  </thead>
  <tbody>
    {% for r in rows %}
    <tr>
      <td><a href="{% url 'player_profile' r.id %}">{{ r.name }}</a></td>
      <td>
        {% if r.total == "隐藏" %}
          <span class="muted">隐藏</span>
        {% else %}
          {{ r.total|floatformat:2 }}
        {% endif %}
      </td>
      <td>
        {% if r.events == "隐藏" %}
          <span class="muted">隐藏</span>
        {% else %}
          {{ r.events }}
        {% endif %}
      </td>
      <td style="text-align:left">
        {% if r.honors.honor_umaleague_season_champ %}<span class="badge">赛季冠军</span>{% endif %}
        {% if r.honors.honor_umaleague_stage_champ %}<span class="badge">赛段冠军</span>{% endif %}
        {% if r.honors.honor_loh96_hero %}<span class="badge">LOH96杰</span>{% endif %}
        {% if r.honors.honor_aupl_champion %}<span class="badge">AUPL冠军</span>{% endif %}
        {% if r.honors.honor_nxns_champion %}<span class="badge">NXNS冠军</span>{% endif %}
      </td>
    </tr>
    {% endfor %}
  </tbody>
</table>
{% else %}
<p>（暂无选手）</p>
{% endif %}
{% endblock %}
